<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Software License Agreement (BSD License)
  ~
  ~ Copyright (c) 2008, Regents of the University of California
  ~ All rights reserved.
  ~
  ~ Redistribution and use of this software in source and binary forms, with or
  ~ without modification, are permitted provided that the following conditions
  ~ are met:
  ~
  ~ * Redistributions of source code must retain the above
  ~   copyright notice, this list of conditions and the
  ~   following disclaimer.
  ~
  ~ * Redistributions in binary form must reproduce the above
  ~   copyright notice, this list of conditions and the
  ~   following disclaimer in the documentation and/or other
  ~   materials provided with the distribution.                                                                                                 walrus
  ~
  ~ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  ~ AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  ~ IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ~ ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  ~ LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  ~ CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  ~ SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  ~ INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  ~ CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  ~ ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  ~ POSSIBILITY OF SUCH DAMAGE.
  -->

<binding force-classes="true" add-constructors="true" xmlns:tns="http://eucalyptus.ucsb.edu/" name="eucalyptus_ucsb_edu">
    <namespace uri="http://eucalyptus.ucsb.edu/" default="elements"/>

    <mapping class="edu.ucsb.eucalyptus.msgs.VMwareBrokerRequestType" abstract="true">
    </mapping>

    <mapping class="edu.ucsb.eucalyptus.msgs.VMwareBrokerResponseType" abstract="true">
    </mapping>

    <mapping class="edu.ucsb.eucalyptus.msgs.EucalyptusMessage" abstract="true">
        <value name="correlationId" field="correlationId" usage="optional"/>
        <value name="userId" field="userId" usage="optional"/>
        <value name="return" field="_return" usage="optional"/>        
    </mapping>

    <mapping class="edu.ucsb.eucalyptus.msgs.VirtualMachineType" abstract="true"> <!-- vs. VmTypeInfo in cc-types.xml -->
        <value name="memory" field="memory" usage="required"/>
        <value name="cores" field="cores" usage="required"/>
        <value name="disk" field="disk" usage="required"/>
    </mapping>

    <mapping class="edu.ucsb.eucalyptus.msgs.NetConfigType" abstract="true"> <!-- vs. NetworkConfigType in cc-types.xml -->
        <value name="privateMacAddress" field="macAddress"/>
        <value name="publicMacAddress" field="ignoredMacAddress"/>
        <value name="vlan" field="vlan"/>
        <value name="privateIp" field="ipAddress"/>
        <value name="publicIp" field="ignoredPublicIp"/>
    </mapping>

    <mapping class="edu.ucsb.eucalyptus.msgs.VolumeType" abstract="true"> <!-- vs. AttachedVolume in cc-types.xml -->
        <value name="volumeId" field="volumeId" usage="required"/>
        <value name="remoteDev" field="remoteDevice" usage="required"/>
        <value name="localDev" field="device" usage="required"/>
        <value name="state" field="status" usage="required"/>
    </mapping>

	<mapping class="edu.ucsb.eucalyptus.msgs.InstanceType" abstract="true"> <!-- dmitrii TODO: remove optionals -->
		<value name="reservationId" field="reservationId"         usage="optional"/>
		<value name="instanceId" field="instanceId"         usage="optional"/>
		<value name="imageId" field="imageId"         usage="optional"/>
		<value name="kernelId" field="kernelId"         usage="optional"/>
		<value name="ramdiskId" field="ramdiskId" usage="optional"/>
		<value name="userId" field="userId"         usage="optional"/> <!-- == owner ID in CC -->
		<value name="keyName" field="keyName"         usage="optional"/>
		<structure name="instanceType"         usage="optional">
			<structure field="instanceType" map-as="edu.ucsb.eucalyptus.msgs.VirtualMachineType"/>
		</structure>
		<structure name="netParams" usage="optional">
			<structure field="netParams" map-as="edu.ucsb.eucalyptus.msgs.NetConfigType"/>
		</structure>
		<value name="stateName" field="stateName"         usage="optional"/>
		<value name="launchTime" field="launchTime" usage="optional"/>
        <value name="userData" field="userData" usage="optional"/>
        <value name="launchIndex" field="launchIndex" usage="optional"/>
        <structure usage="optional">
            <collection field="groupNames" factory="org.jibx.runtime.Utility.arrayListFactory">
                <value name="groupNames" type="java.lang.String"/>
            </collection>
        </structure>		
    	<structure usage="optional">
      		<collection field="volumes" factory="org.jibx.runtime.Utility.arrayListFactory">
        		<structure name="volumes" map-as="edu.ucsb.eucalyptus.msgs.VolumeType"/>
      		</collection>
    	</structure>
		<value name="serviceTag" field="serviceTag" usage="optional"/>
	</mapping>

    <!-- DescribeResource -->

    <mapping name="ncDescribeResource"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcDescribeResourceType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="resourceType" field="resourceType" usage="optional"/>
    </mapping>

    <mapping name="ncDescribeResourceResponse"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcDescribeResourceResponseType">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="nodeStatus" field="nodeStatus" usage="required"/>
        <value name="memorySizeMax" field="memorySizeMax" usage="required"/>
        <value name="memorySizeAvailable" field="memorySizeAvailable" usage="required"/>
        <value name="diskSizeMax" field="diskSizeMax" usage="required"/>
        <value name="diskSizeAvailable" field="diskSizeAvailable" usage="required"/>
        <value name="numberOfCoresMax" field="numberOfCoresMax" usage="required"/>
        <value name="numberOfCoresAvailable" field="numberOfCoresAvailable" usage="required"/>
        <value name="publicSubnets" field="publicSubnets" usage="required"/>
    </mapping>

    <!-- GetConsoleOutput -->

     <mapping name="ncGetConsoleOutput"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcGetConsoleOutputType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="instanceId" field="instanceId" usage="required"/>
    </mapping>

    <mapping name="ncGetConsoleOutputResponse"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcGetConsoleOutputResponseType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="consoleOutput" field="consoleOutput" usage="required"/>
    </mapping>


	<!-- DescribeInstances -->
	
     <mapping name="ncDescribeInstances"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcDescribeInstancesType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
	    <structure usage="optional">
	      <collection field="instanceIds" factory="org.jibx.runtime.Utility.arrayListFactory">
	        <value name="instanceIds" type="java.lang.String"/>
	      </collection>
	    </structure>
    </mapping>

    <mapping name="ncDescribeInstancesResponse"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcDescribeInstancesResponseType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
	    <structure usage="optional">
	      <collection field="instances" factory="org.jibx.runtime.Utility.arrayListFactory">
	        <structure name="instances" map-as="edu.ucsb.eucalyptus.msgs.InstanceType"/>
	      </collection>
	    </structure>
    </mapping> 

	<!-- RunInstance -->

	 <mapping name="ncRunInstance"
	         class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcRunInstanceType"
	         extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
	    <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
		<value name="imageId" field="imageId"/>
		<value name="kernelId" field="kernelId"/>
		<value name="ramdiskId" field="ramdiskId" usage="optional"/>
		<value name="imageURL" field="imageURL"/>
		<value name="kernelURL" field="kernelURL"/>
		<value name="ramdiskURL" field="ramdiskURL" usage="optional"/>
		<value name="instanceId" field="instanceId"/>
		<structure name="instanceType">
			<structure field="instanceType" map-as="edu.ucsb.eucalyptus.msgs.VirtualMachineType"/>
		</structure>	
		<value name="keyName" field="keyName"/>
		<value name="publicMacAddress" field="publicMacAddress"/>
		<value name="privateMacAddress" field="privateMacAddress"/>
		<value name="reservationId" field="reservationId"/>
		<value name="vlan" field="vlan"/>
		<value name="userData" field="userData" usage="optional"/>
		<value name="launchIndex" field="launchIndex" usage="optional"/>
		<structure usage="optional">
	        <collection field="groupNames" factory="org.jibx.runtime.Utility.arrayListFactory">
	            <value name="groupNames" type="java.lang.String"/>
	        </collection>
	    </structure>
	</mapping>

	<mapping name="ncRunInstanceResponse"
	         class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcRunInstanceResponseType"
	         extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
	    <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
		<structure name="instance" usage="optional">
			<structure field="instance" map-as="edu.ucsb.eucalyptus.msgs.InstanceType"/>
		</structure>
	</mapping>

	<!-- TerminateInstance -->

	 <mapping name="ncTerminateInstance"
	         class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcTerminateInstanceType"
	         extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
	    <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
	    <value name="instanceId" field="instanceId" usage="required"/>
	</mapping>

	<mapping name="ncTerminateInstanceResponse"
	         class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcTerminateInstanceResponseType"
	         extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
	    <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
	    <value name="instanceId" field="instanceId" usage="required"/>
	    <value name="shutdownState" field="shutdownState" usage="optional"/>
	    <value name="previousState" field="previousState" usage="optional"/>
	</mapping>

	<!-- Template: -->

	<!-- XXX
	
     <mapping name="ncXXX"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcXXXType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="foo" field="foo" usage="required"/>
    </mapping>

    <mapping name="ncXXXResponse"
             class="edu.ucsb.eucalyptus.msgs.EucalyptusNCNcXXXResponseType"
             extends="edu.ucsb.eucalyptus.msgs.EucalyptusMessage">
        <structure map-as="edu.ucsb.eucalyptus.msgs.EucalyptusMessage"/>
        <value name="bar" field="bar" usage="required"/>
    </mapping> -->

</binding>
